{% extends 'base.html' %}
{% load static %}
{% block content %}

<h1>{% if update %}Edit{% else %}Plan{% endif %} a Trip</h1>
<div class="trips-form">
    <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    <div class="card">
        <div class="card-content">
            <form action="{% if update %}{% url 'trips_update' object.id %}{% else %}{% url 'trips_create' %}{% endif %}" method="POST">
                {% csrf_token %}
                {{ form.as_p}}
                <input type="submit" value="Submit!" class="btn">
            </form>
        </div>
    </div>
</div>
<!-- datepicker -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
		const startDateEl = document.getElementById('id_startDate');
		const endDateEl = document.getElementById('id_endDate');
		// M is Materialize's global variable
		M.Datepicker.init(startDateEl, {
			format: 'yyyy-mm-dd',
			defaultDate: new Date(),
			setDefaultDate: true,
			autoClose: true
		});
		M.Datepicker.init(endDateEl, {
			format: 'yyyy-mm-dd',
			defaultDate: new Date(),
			setDefaultDate: true,
			autoClose: true
		});
	});
  </script>
{% endblock %}
